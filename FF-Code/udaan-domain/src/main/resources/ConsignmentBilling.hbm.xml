<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<class name="com.ff.domain.billing.ConsignmentBilling" table="ff_f_consignment">
		<id name="consgId" column="CONSG_ID" type="java.lang.Integer" >
			<generator class="native" />
		</id>
		
		<property name="consgNo"  type="java.lang.String" >
		<column name="CONSG_NO"/>
		</property>
		<property name="orgOffId"   type="java.lang.Integer" >
		<column name="ORG_OFF"/>
		</property>
		<!-- <property name="destPincodeId"   type="java.lang.Integer" >
		<column name="DEST_PINCODE"/>
		</property> -->
		<property  name="noOfPcs" type="java.lang.Integer"> <column name="NO_OF_PCS"/> </property>
	
		<many-to-one name="consgType"  class="com.ff.domain.serviceOffering.ConsignmentTypeDO" lazy="false" fetch="join" >
		<column name="CONSG_TYPE"/>
		</many-to-one>
		
		<many-to-one  name="destPincodeId"  class="com.ff.domain.geography.PincodeDO" lazy="false" fetch="join" >
		<column  name="DEST_PINCODE" />
		</many-to-one>
		
		<property  name="price" 	type="java.lang.Double">
		<column name="PRICE"/>
		</property>
		<property name="productId"   type="java.lang.Integer" >
		<column name="PRODUCT"/>
		</property>
		<property  name="actualWeight" 	type="java.lang.Double">
		<column name="ACTUAL_WEIGHT"/>
		</property>
		<property  name="volWeight" 	type="java.lang.Double">
		<column name="VOL_WEIGHT"/>
		</property>
		<property  name="finalWeight" 	type="java.lang.Double">
		<column name="FINAL_WEIGHT"/>
		</property>
		
		<property  name="eventDate" column="EVENT_DATE"	type="java.util.Date"/>
		<property  name="customer" column="CUSTOMER"	type="java.lang.Integer"/>
		
		<property  name="consgStatus" 	type="java.lang.String">
		<column name="CONSG_STATUS"/>
		</property>
		
		<property  name="height" column="HEIGHT"	type="java.lang.Double"/>
		<property  name="length" column="LENGTH"	type="java.lang.Double"/>
		<property  name="breath" column="BREATH"	type="java.lang.Double"/>
		<property  name="insurencePolicyNo" column="INSURANCE_POLICY_NO"	type="java.lang.String"/>
		<property  name="refNo" column="REF_NO"	type="java.lang.String"/>
		
		<property  name="mobileNo" column="MOBILE_NO"	type="java.lang.String"/>
		
		<property  name="receivedDateTime" column="RECEIVED_DATE"	type="java.util.Date"/>
		<property  name="deliveredDate" column="DLV_DATE_TIME"	type="java.util.Date"/>
		<property  name="recvNameOrCompName" column="RECV_NAME_OR_COMP_SEAL"	type="java.lang.String"/>
		<property  name="operatingOffice" column="OPERATING_OFFICE"	type="java.lang.Integer"/>
		<property name="createdDate"  column="CREATED_DATE" type="java.util.Date"/>
		<property  name="updatedDate" column="UPDATE_DATE"	type="java.util.Date"/>
		<property  name="declaredValue" 	type="java.lang.Double"><column name="DECLARED_VALUE"/></property>
		<property  name="discount" column="DISCOUNT"	type="java.lang.Double"/>
		<property  name="topayAmt" column="TOPAY_AMT"	type="java.lang.Double"/>
		<property  name="splChg" column="SPL_CHG"	type="java.lang.Double"/>
		<property  name="codAmt" column="COD_AMT"	type="java.lang.Double"/>
		<property  name="lcAmount" column="LC_AMT"	type="java.lang.Double"/>
		 <property  name="lcBankName" column="LC_BANK_NAME"	type="java.lang.String"/>
		<property  name="servicedOn" column="SERVICED_ON"	type="java.lang.String"/>
		<property  name="rateType" column="RATE_TYPE"	type="java.lang.String"/>
		<property  name="ebPreferencesCodes" column="EB_PREFEENCES_CODES"	type="java.lang.String"/>
		
		<many-to-one name="consignee"  class="com.ff.domain.business.ConsigneeConsignorDO" lazy="false" fetch="join"  cascade="all" unique="true">
		<column  name="CONSIGNEE" />
		</many-to-one>
		 <many-to-one name="consignor"   class="com.ff.domain.business.ConsigneeConsignorDO" lazy="false" fetch="join"  cascade="all" unique="true">
		<column  name="CONSIGNOR" />
		</many-to-one>
		
		<!-- <many-to-one name="consignee"  class="com.ff.domain.business.ConsigneeConsignorDO" lazy="false"  fetch="join" unique="true">
		<column  name="CONSIGNEE" />
		</many-to-one>
		 <many-to-one name="consignor"   class="com.ff.domain.business.ConsigneeConsignorDO" lazy="false"   fetch="join" unique="true">
		<column  name="CONSIGNOR" />
		</many-to-one> -->
		        
		<many-to-one name="cnContentId"  class="com.ff.domain.serviceOffering.CNContentDO" lazy="false" fetch="join"  > 
		<column  name="CONTENT" />
		</many-to-one> 
		
		<many-to-one name="cnPaperWorkId"  class="com.ff.domain.serviceOffering.CNPaperWorksDO" lazy="false" fetch="join" >
		<column  name="PAPER_WORK" />
		</many-to-one>
		
		<many-to-one name="insuredBy"  class="com.ff.domain.serviceOffering.InsuredByDO" lazy="false" fetch="join"  unique="true">
		<column  name="INSURED_BY" />
		</many-to-one>
		
	 <many-to-one name="updatedProcess"  class="com.ff.domain.tracking.ProcessDO" lazy="false" fetch="join" unique="true">
		<column  name="UPDTAED_PROCESS_FROM" />
		</many-to-one>
		
		 <set name="childCNs" table="ff_f_child_consignments" cascade="all" lazy="false" fetch="join" >
            <key>
                <column name="CONSG_ID" />
            </key>
            <one-to-many class="com.ff.domain.consignment.ChildConsignmentDO"  />
        </set>
        
        <!--  <set name="consgRateDtls" table="ff_f_consignment_rate" cascade="all" lazy="false" inverse="true">
            <key>
                <column name="CONSIGNMENT_ID" />
            </key>
            <one-to-many class="com.ff.domain.billing.ConsignmentBillingRateDO"  />
        </set> -->
     
		<!--  <many-to-one name="consgPricingDtls"  class="com.ff.domain.booking.CNPricingDetailsDO" lazy="false" unique="true" cascade="all">
					<column  name="cn_price_id" />
		</many-to-one> -->
		
		<!--   <one-to-one name="consgPricingDtls" class="com.ff.domain.booking.CNPricingDetailsDO" 	property-ref="consgId" lazy="false" cascade="all" fetch="join">
		</one-to-one> -->
		
        
        <property name="dtToBranch">
			<column name="DT_TO_BRANCH" />
		</property>
		
		<property name="dtToCentral">
			<column name="DT_TO_CENTRAL" />
		</property>
		
		<!-- <property name="operatingLevel">
			<column name="OPERATING_LEVEL" />
		</property> -->
		
		
		
		<property  name="billingStatus" 	type="java.lang.String">
		<column name="BILLING_STATUS"/>
		</property>
		
		<property  name="changedAfterBillingWtDest" 	type="java.lang.String">
		<column name="CHANGED_AFTER_BILLING_WEIGHT_DEST"/>
		</property>
		
		<property  name="changedAfterNewRateCmpnt" 	type="java.lang.String">
		<column name="CHANGED_AFTER_NEW_RATE_COMPONENT"/>
		</property>
		
		<property name="sapStatus" column="DT_SAP_OUTBOUND" />
		<many-to-one name="cnReturnReason" class="com.ff.domain.serviceOffering.ReasonDO" lazy="false" unique="true" fetch="join">
			<column name="RTH_RTO_REASON"/>
		</many-to-one>
		<property name="remarks" column="REMARKS"/>
		<property name="otherCNContent" column="OTHERS_CN_CONTENT"/>
		
		<property name="BOOKING_RATE_BILLED" />
		<property name="RTO_RATE_BILLED" />
		<property name="SHIP_TO_CODE" />
		<property name="CONSG_SERIES" />
		<property name="BOOKING_DATE" type="java.util.Date" />
		<property name="CONSOLIDATION_WINDOW" type="java.lang.Integer"/>
		<property name="BOOKING_TYPE" />
		<property name="CONSIGNMENT_CODE" />
		<property name="OFFICE_ID"  type="java.lang.Integer"/>
		<property name="PRODUCT_CODE" />
		<property name="CONSIGNMENT_RATE_ID"  type="java.lang.Integer"/>
		<property name="CUSTOMER_TYPE_CODE" />
		<property name="BOOKING_TYPE_DESC" />
		<property name="PRODUCT_NAME" />
		<property name="INSURED_BY_CODE" />
		<!-- <property name="MODIFIED" /> -->
		
	</class>
	
	 <sql-query name="callBillingConsolidation" callable="true">
	    <![CDATA[CALL sp_billing_consolidation()]]>
    </sql-query>
	
	<sql-query name="callBillingStockConsolidation" callable="true">
	    <![CDATA[CALL sp_billing_stock_consolidation()]]>
    </sql-query>
	
	<sql-query name="callBABillingConsolidation" callable="true">
	    <![CDATA[CALL sp_ba_billing_consolidation()]]>
    </sql-query>
    
	<sql-query name="callSummaryStagingInsertion" callable="true">
	    <![CDATA[CALL sp_summary_insertion_in_staging()]]>
    </sql-query>
	
</hibernate-mapping>