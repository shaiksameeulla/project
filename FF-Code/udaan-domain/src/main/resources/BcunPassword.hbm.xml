<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
    <class name="com.ff.domain.umc.BcunPasswordDO" table="ff_d_password" >
        <id name="passwordId" type="java.lang.Integer">
            <column name="PASSWORD_ID" />
            <generator class="assigned" />
        </id>
        
		<property name="userId" type="java.lang.Integer">
			<column name="USER_ID" />
		</property>
        <property name="password" type="java.lang.String">
            <column name="PASSWORD" length="15" />
        </property>
       
        <property name="lastModifiedDate" type="java.util.Date">
            <column name="LAST_MODIFIED_DATE" />
        </property>
        <property name="changeRequired" type="java.lang.String">
            <column name="CHANGE_REQUIRED" length="1" />
        </property>
        <property name="isActivePassword" >
            <column name="IS_ACTIVE_PASSWORD" />
        </property>
        
         <property name="dtToBranch" >
            <column name="DT_TO_BRANCH" />
        </property>
        
          <property name="dtUpdateToCentral" >
            <column name="DT_UPDATE_TO_CENTRAL" />
        </property>
        
      <property name="dtToCentral" >
            <column name="DT_TO_CENTRAL" />
        </property> 
  
    
    </class>
    
    
<!-- <query name="getOutboundBranchUserPasswords">
	<![CDATA[ 
	select pass FROM com.ff.domain.umc.BcunPasswordDO pass, com.ff.domain.umc.EmployeeUserDO empUser where 
	pass.userId = empUser.userId
	and  empUser.empDO.officeId=:branchId
	and  pass.dtToBranch ='N' 
	]]>
	</query> -->
	
	<query name="getOutboundBranchUserPasswords">
	<![CDATA[ 
	select pass FROM com.ff.domain.umc.BcunPasswordDO pass, com.ff.domain.umc.bcun.BcunUserOfficeRightsDO userOffice where 
	pass.userId = userOffice.userId
	and  userOffice.officeId=:branchId
	and  pass.dtToBranch ='N' 
	]]>
	</query>
	
	 <!-- <query name="getUnsyncInboundLoginPassword">
		<![CDATA[from com.ff.domain.umc.BcunPasswordDO pass where pass.dtToCentral='N']]>
	</query>  -->
	
	 <query name="getOutboundUpdateLoginPassword"> 
	<![CDATA[ From com.ff.domain.umc.BcunPasswordDO pass where  pass.userId IN (:userId) and pass.password=:encryptedPassword and pass.lastModifiedDate=:lastModifiedDate  ]]>
	</query> 
	
	
	 <query name="getLatestPasswordRecord"> 
	<![CDATA[ From com.ff.domain.umc.BcunPasswordDO pass where  pass.userId IN (:userId) order by pass.lastModifiedDate desc ]]>
	</query> 
	
	

	
</hibernate-mapping>
