<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
	<class name="com.ff.domain.pickup.PincodeBranchMappingDO" table="ff_d_branch_pincode_serviceablity">
		<id name="branchPincodeId" type="java.lang.Integer">
			<column name="PINCODE_SERVICES_BRANCH_ID" />
			<generator class="assigned" />
		</id>
		
        <property name="officeId" column="OFFICE_ID"/>
        
        <property name="pincodeId" column="PINCODE_ID"/>
        
	</class>
	<query name="validateBranchPincodeServiceability">
	<![CDATA[ FROM com.ff.domain.pickup.PincodeBranchMappingDO pinBranchMap where 
			 pinBranchMap.officeId = :officeId 
			and	pinBranchMap.pincodeId = (SELECT pin.pincodeId from com.ff.domain.geography.PincodeDO pin where pin.pincode =:pincode and  pin.status='A')
	]]>
	</query>
	
	<query name="getBranchDtlsForPincodeServiceByPincode">
	<![CDATA[  from com.ff.domain.organization.OfficeDO  officeDo where officeDo.officeId IN (select pinBranchMap.officeId FROM com.ff.domain.pickup.PincodeBranchMappingDO pinBranchMap where 
			 pinBranchMap.pincodeId = :pincodeId )
	]]>
	</query>

	
</hibernate-mapping>