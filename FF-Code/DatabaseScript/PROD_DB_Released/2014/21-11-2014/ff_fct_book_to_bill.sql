DROP TABLE IF EXISTS ff_fct_book_to_bill;
CREATE TABLE `ff_fct_book_to_bill` (
  `BOOKING_ID` int(11) NOT NULL,
  `CONSG_NUMBER` varchar(25) DEFAULT NULL,
  `BOOKING_DATE` datetime DEFAULT NULL,
  `BOOKING_TYPE` int(11) DEFAULT NULL,
  `BOOKING_OFF` int(11) DEFAULT NULL,
  `CUSTOMER_BO` int(11) DEFAULT NULL,
  `NO_OF_PIECES` int(11) DEFAULT NULL,
  `DLV_DATE_TIME` datetime DEFAULT NULL,
  `CUST_REF_NO` varchar(50) DEFAULT NULL,
  `PROCESS_NO` varchar(50) DEFAULT NULL,
  `PAYMENT_TYPE` char(1) DEFAULT NULL,
  `UPDTAED_PROCESS_FROM` int(11) DEFAULT NULL,
  `PICKUP_RUNSHEET_NO` varchar(100) DEFAULT NULL,
  `WEIGHT_CAPTURED_MODE` char(1) DEFAULT NULL,
  `PAPER_WORK_REF_NO` varchar(100) DEFAULT NULL,
  `PINCODE_DLV_TIME_MAP_ID` int(11) DEFAULT NULL,
  `STATUS` char(1) DEFAULT NULL,
  `INSURED_BY_BO` int(11) DEFAULT NULL,
  `SHIPPED_TO_CODE` varchar(10) DEFAULT NULL,
  `CONSG_ID` int(11) NOT NULL,
  `CONSG_NO` varchar(25) DEFAULT NULL,
  `ORG_OFF` int(11) DEFAULT NULL,
  `DEST_PINCODE` int(11) DEFAULT NULL,
  `NO_OF_PCS` int(11) DEFAULT NULL,
  `CONSG_TYPE` int(11) DEFAULT NULL,
  `PRICE` double(20,6) DEFAULT '0.000000',
  `PRODUCT` int(11) DEFAULT NULL,
  `ACTUAL_WEIGHT` double(10,3) DEFAULT NULL,
  `VOL_WEIGHT` double(20,4) DEFAULT NULL,
  `FINAL_WEIGHT` double(20,4) DEFAULT NULL,
  `CONTENT` int(11) DEFAULT NULL,
  `PAPER_WORK` int(11) DEFAULT NULL,
  `INSURED_BY_C` int(11) DEFAULT NULL,
  `INSURANCE_POLICY_NO` varchar(50) DEFAULT NULL,
  `REF_NO` varchar(100) DEFAULT NULL,
  `HEIGHT` double(10,2) DEFAULT '0.00',
  `LENGTH` double(10,2) DEFAULT '0.00',
  `BREATH` double(10,2) DEFAULT '0.00',
  `RECEIVED_DATE` date DEFAULT NULL,
  `DLV_DATE_TIME_C` datetime DEFAULT NULL,
  `CONSG_STATUS` char(1) DEFAULT NULL,
  `DECLARED_VALUE` double(20,4) DEFAULT NULL,
  `BILLING_STATUS` char(3) DEFAULT NULL,
  `CHANGED_AFTER_BILLING_WEIGHT_DEST` char(1) DEFAULT NULL,
  `CHANGED_AFTER_NEW_RATE_COMPONENT` char(1) DEFAULT NULL,
  `CUSTOMER_C` int(11) DEFAULT NULL,
  `RTH_RTO_REASON` int(11) DEFAULT NULL,
  `TOPAY_AMT` double(20,4) DEFAULT '0.0000',
  `SPL_CHG` double(20,4) DEFAULT '0.0000',
  `COD_AMT` double(20,4) DEFAULT '0.0000',
  `LC_AMT` double(20,4) DEFAULT '0.0000',
  `RATE_TYPE` char(2) DEFAULT NULL,
  `OTHERS_CN_CONTENT` varchar(100) DEFAULT NULL,
  `STOP_DELIVERY` char(1) DEFAULT 'N',
  `STOP_DELIVERY_REASON` int(11) DEFAULT NULL,
  `STOP_DELV_DATE` datetime DEFAULT NULL,
  `MIS_ROUTED` char(1) DEFAULT 'N',
  `IS_EXCESS_CONSG` char(1) DEFAULT NULL,
  `CONSIGNMENT_RATE_ID_CR` int(11) DEFAULT NULL,
  `CONSIGNMENT_ID` int(11) DEFAULT NULL,
  `RATE_CALCULATED_FOR` char(1) DEFAULT NULL,
  `FUEL_SURCHARGE` double(20,6) DEFAULT NULL,
  `RISK_SURCHARGE` double(20,6) DEFAULT NULL,
  `TO_PAY_CHARGE` double(20,6) DEFAULT NULL,
  `COD_CHARGES` double(20,6) DEFAULT NULL,
  `PARCEL_HANDLING_CHARGE` double(20,6) DEFAULT NULL,
  `AIRPORT_HANDLING_CHARGE` double(20,6) DEFAULT NULL,
  `DOCUMENT_HANDLING_CHARGE` double(20,6) DEFAULT NULL,
  `RTO_DISCOUNT` double(20,6) DEFAULT NULL,
  `OTHER_OR_SPECIAL_CHARGES` double(20,6) DEFAULT NULL,
  `DISCOUNT` double(20,6) DEFAULT NULL,
  `SERVICE_TAX` double(20,6) DEFAULT NULL,
  `EDUCATION_CESS` double(20,6) DEFAULT NULL,
  `HIGHER_EDUCATION_CES` double(20,6) DEFAULT NULL,
  `STATE_TAX` double(20,6) DEFAULT NULL,
  `SURCHARGE_ON_STATE_TAX` double(20,6) DEFAULT NULL,
  `OCTROI` double(20,6) DEFAULT NULL,
  `SERVICE_CHARGE_ON_OCTROI` double(20,6) DEFAULT NULL,
  `SERVICE_TAX_ON_OCTROI_SERVICE_CHARGE` double(20,6) DEFAULT NULL,
  `EDU_CESS_ON_OCTROI_SERVICE_CHARGE` double(20,6) DEFAULT NULL,
  `HIGHER_EDU_CESS_ON_OCTROI_SERVICE_CHARGE` double(20,6) DEFAULT NULL,
  `TOTAL_WITHOUT_TAX` double(20,6) DEFAULT NULL,
  `GRAND_TOTAL_INCLUDING_TAX` double(20,2) DEFAULT NULL,
  `LC_CHARGE` double(20,6) DEFAULT NULL,
  `SLAB_RATE` double(20,6) DEFAULT NULL,
  `FINAL_SLAB_RATE_ADDED_TO_RISK_SURCHARGE` double(20,6) DEFAULT NULL,
  `OCTROI_SALES_TAX_ON_OCTROI_SERVICE_CHARGE` double(20,6) DEFAULT NULL,
  `OCTROI_SURCHARGE_ON_STATE_TAX_ON_OCTROI_SERVICE_CHARGE` double(20,6) DEFAULT NULL,
  `COD_AMOUNT` double(20,6) DEFAULT NULL,
  `BILLED` char(1) DEFAULT 'N',
  `BILLING_CONSIGNMENT_ID` int(11) DEFAULT NULL,
  `CONSG_ID_BC` int(11) DEFAULT NULL,
  `CONSG_NO_BC` varchar(25) DEFAULT NULL,
  `ORIGIN_OFFICE` int(11) DEFAULT NULL,
  `ACTUAL_WEIGHT_BC` double(20,6) DEFAULT NULL,
  `VOL_WEIGHT_BC` double(20,6) DEFAULT NULL,
  `FINAL_WEIGHT_BC` double(20,6) DEFAULT NULL,
  `UPDATED_PROCESS_FROM` int(11) DEFAULT NULL,
  `DLV_DATE_TIME_BC` datetime DEFAULT NULL,
  `CONSIGNOR` int(11) DEFAULT NULL,
  `CONSIGNEE` int(11) DEFAULT NULL,
  `CONSG_STATUS_BC` char(1) DEFAULT NULL,
  `SUMMARY` int(11) DEFAULT NULL,
  `INVOICE` int(11) DEFAULT NULL,
  `SCOPE` varchar(10) DEFAULT NULL,
  `CONSIGNMENT_COPY` int(11) DEFAULT NULL,
  `LC_BANK_NAME` varchar(100) DEFAULT NULL,
  `CUSTOMER_BC` int(11) DEFAULT NULL,
  `BILLING_STATUS_BC` char(3) DEFAULT NULL,
  `CHANGED_AFTER_BILLING_WEIGHT_DEST_BC` char(1) DEFAULT NULL,
  `CHANGED_AFTER_NEW_RATE_COMPONENT_BC` char(1) DEFAULT NULL,
  `DELTA_TRANSFER` char(1) DEFAULT NULL,
  `BILLING_CONSIGNMENT_RATE_ID_BCR` int(11) DEFAULT NULL,
  `CONSIGNMENT_RATE_ID` int(11) DEFAULT NULL,
  `BILLING_CONSIGNMENT` int(11) DEFAULT NULL,
  `CONSIGNMENT` int(11) DEFAULT NULL,
  `RATE_CALCULATED_FOR_BCR` char(1) DEFAULT NULL,
  `FINAL_SLAB_RATE_BCR` double(20,6) DEFAULT NULL,
  `FUEL_SURCHARGE_BCR` double(20,6) DEFAULT NULL,
  `RISK_SURCHARGE_BCR` double(20,6) DEFAULT NULL,
  `TO_PAY_CHARGE_BCR` double(20,6) DEFAULT NULL,
  `COD_CHARGES_BCR` double(20,6) DEFAULT NULL,
  `PARCEL_HANDLING_CHARGE_BCR` double(20,6) DEFAULT NULL,
  `AIRPORT_HANDLING_CHARGE_BCR` double(20,6) DEFAULT NULL,
  `DOCUMENT_HANDLING_CHARGE_BCR` double(20,6) DEFAULT NULL,
  `RTO_DISCOUNT_BCR` double(20,6) DEFAULT NULL,
  `OTHER_OR_SPECIAL_CHARGES_BCR` double(20,6) DEFAULT NULL,
  `DISCOUNT_BCR` double(20,6) DEFAULT NULL,
  `SERVICE_TAX_BCR` double(20,6) DEFAULT NULL,
  `EDUCATION_CESS_BCR` double(20,6) DEFAULT NULL,
  `HIGHER_EDUCATION_CES_BCR` double(20,6) DEFAULT NULL,
  `STATE_TAX_BCR` double(20,6) DEFAULT NULL,
  `SURCHARGE_ON_STATE_TAX_BCR` double(20,6) DEFAULT NULL,
  `OCTROI_BCR` double(20,6) DEFAULT NULL,
  `SERVICE_CHARGE_ON_OCTROI_BCR` double(20,6) DEFAULT NULL,
  `SERVICE_TAX_ON_OCTROI_SERVICE_CHARGE_BCR` double(20,6) DEFAULT NULL,
  `EDU_CESS_ON_OCTROI_SERVICE_CHARGE_BCR` double(20,6) DEFAULT NULL,
  `HIGHER_EDU_CESS_ON_OCTROI_SERVICE_CHARGE_BCR` double(20,6) DEFAULT NULL,
  `TOTAL_WITHOUT_TAX_BCR` double(20,6) DEFAULT NULL,
  `GRAND_TOTAL_INCLUDING_TAX_BCR` double(20,2) DEFAULT NULL,
  `LC_CHARGE_BCR` double(20,6) DEFAULT NULL,
  `FINAL_SLAB_RATE_ADDED_TO_RISK_SURCHARGE_BCR` double(20,6) DEFAULT NULL,
  `LC_AMOUNT_BCR` double(20,6) DEFAULT NULL,
  `OCTROI_SALES_TAX_ON_OCTROI_SERVICE_CHARGE_BCR` double(20,6) DEFAULT NULL,
  `OCTROI_SURCHARGE_ON_STATE_TAX_ON_OCTROI_SERVICE_CHARGE_BCR` double(20,6) DEFAULT NULL,
  `INVOICE_ID` int(11) DEFAULT NULL,
  `INVOICE_NUMBER` varchar(20) DEFAULT NULL,
  `FINANCIAL_PRODUCT_ID` int(11) DEFAULT NULL,
  `PRODUCT_ID` int(11) DEFAULT NULL,
  `BILLING_OFFICE_ID` int(11) DEFAULT NULL,
  `FROM_DATE` datetime DEFAULT NULL,
  `TO_DATE` datetime DEFAULT NULL,
  `NO_OF_PICKUPS` int(11) DEFAULT NULL,
  `FREIGHT` double(20,6) DEFAULT NULL,
  `RISK_SURCHARGE_BI` double(20,6) DEFAULT NULL,
  `DOC_HANDLING_CHARGE` double(20,6) DEFAULT NULL,
  `PARCAL_HANDLING_CHARGE` double(20,6) DEFAULT NULL,
  `AIRPORT_HANDLING_CHARGE_BI` double(20,6) DEFAULT NULL,
  `OTHER_CHARGES` double(20,6) DEFAULT NULL,
  `TOTAL` double(20,6) DEFAULT NULL,
  `FUEL_SURCHARGE_BI` double(20,6) DEFAULT NULL,
  `SERVICE_TAX_BI` double(20,6) DEFAULT NULL,
  `EDUCATION_CESS_BI` double(20,6) DEFAULT NULL,
  `HIGHER_EDUCATION_CESS` double(20,6) DEFAULT NULL,
  `STATE_TAX_BI` double(20,6) DEFAULT NULL,
  `SURCHARGE_ON_STATE_TAX_BI` double(20,6) DEFAULT NULL,
  `GRAND_TOTAL` double(20,6) DEFAULT NULL,
  `GRAND_TOTAL_ROUNDED_OFF` double(20,6) DEFAULT NULL,
  `BILL_GENERATED` char(1) DEFAULT NULL,
  `BILL_STATUS` char(1) DEFAULT NULL,
  `SHIP_TO_CODE` varchar(10) DEFAULT NULL,
  `CUSTOMER_BI` int(11) DEFAULT NULL,
  `LAST_UPDT_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `EVENT_DATE` datetime DEFAULT NULL,
  `CUST_VENDOR` int(11) DEFAULT NULL,
  `BOOKING_PAYMENT_ID` int(11) DEFAULT NULL,
  `INSURANCE_CHG` double(20,4) DEFAULT NULL,
  `FINAL_SLAB_RATE` double(20,6) DEFAULT NULL,
  KEY `idx_fbb2` (`BOOKING_DATE`),
  KEY `idx_fbb1` (`BOOKING_ID`,`CONSG_NUMBER`,`CONSIGNMENT_ID`,`INVOICE`),
  KEY `idx_rate_type` (`RATE_CALCULATED_FOR`),
  KEY `idx_ffb4` (`RATE_CALCULATED_FOR`,`PRODUCT`),
  KEY `fk_fct_book_to_bill_vendor` (`CUST_VENDOR`),
  KEY `fk_fct_book_to_bill_booking_payment` (`BOOKING_PAYMENT_ID`),
  KEY `fk_fct_book_to_bill_booking_type` (`BOOKING_TYPE`),
  KEY `fk_fct_book_to_bill_booking_office` (`BOOKING_OFF`),
  KEY `fk_fct_book_to_bill_rto_rth_reason` (`RTH_RTO_REASON`),
  KEY `fk_fct_book_to_bill_stop_delivery_reason` (`STOP_DELIVERY_REASON`),
  KEY `fk_fct_book_to_bill_updated_process_from` (`UPDTAED_PROCESS_FROM`),
  KEY `fk_fct_book_to_bill_pincode_servicability` (`PINCODE_DLV_TIME_MAP_ID`),
  KEY `fk_fct_book_to_bill_pincode` (`DEST_PINCODE`),
  KEY `fk_fct_book_to_bill_consg_type` (`CONSG_TYPE`),
  KEY `fk_fct_book_to_bill_consignment` (`CONSG_ID`),
  KEY `fk_fct_book_to_bill_cn_content` (`CONTENT`),
  KEY `fk_fct_book_to_bill_cn_paper_works` (`PAPER_WORK`),
  KEY `fk_fct_book_to_bill_insured_by` (`INSURED_BY_C`),
  KEY `fk_fct_book_to_bill_customer` (`CUSTOMER_C`),
  CONSTRAINT `fk_fct_book_to_bill_booking_office` FOREIGN KEY (`BOOKING_OFF`) REFERENCES `ff_d_office` (`OFFICE_ID`),
  CONSTRAINT `fk_fct_book_to_bill_booking_payment` FOREIGN KEY (`BOOKING_PAYMENT_ID`) REFERENCES `ff_f_booking_payment` (`BOOKING_PAYMENT_ID`),
  CONSTRAINT `fk_fct_book_to_bill_booking_type` FOREIGN KEY (`BOOKING_TYPE`) REFERENCES `ff_d_booking_type` (`BOOKING_TYPE_ID`),
  CONSTRAINT `fk_fct_book_to_bill_cn_content` FOREIGN KEY (`CONTENT`) REFERENCES `ff_d_cn_content` (`CN_CONTENT_ID`),
  CONSTRAINT `fk_fct_book_to_bill_cn_paper_works` FOREIGN KEY (`PAPER_WORK`) REFERENCES `ff_d_cn_paper_works` (`CN_PAPER_WORK_ID`),
  CONSTRAINT `fk_fct_book_to_bill_consg_type` FOREIGN KEY (`CONSG_TYPE`) REFERENCES `ff_d_consignment_type` (`CONSIGNMENT_TYPE_ID`),
  CONSTRAINT `fk_fct_book_to_bill_consignment` FOREIGN KEY (`CONSG_ID`) REFERENCES `ff_f_consignment` (`CONSG_ID`),
  CONSTRAINT `fk_fct_book_to_bill_customer` FOREIGN KEY (`CUSTOMER_C`) REFERENCES `ff_d_customer` (`CUSTOMER_ID`),
  CONSTRAINT `fk_fct_book_to_bill_insured_by` FOREIGN KEY (`INSURED_BY_C`) REFERENCES `ff_d_insured_by` (`INSURED_BY_ID`),
  CONSTRAINT `fk_fct_book_to_bill_pincode` FOREIGN KEY (`DEST_PINCODE`) REFERENCES `ff_d_pincode` (`PINCODE_ID`),
  CONSTRAINT `fk_fct_book_to_bill_pincode_servicability` FOREIGN KEY (`PINCODE_DLV_TIME_MAP_ID`) REFERENCES `ff_d_pincode_product_serviceability` (`PINCODE_DLV_TIME_MAP_ID`),
  CONSTRAINT `fk_fct_book_to_bill_rto_rth_reason` FOREIGN KEY (`RTH_RTO_REASON`) REFERENCES `ff_d_reason` (`REASON_ID`),
  CONSTRAINT `fk_fct_book_to_bill_stop_delivery_reason` FOREIGN KEY (`STOP_DELIVERY_REASON`) REFERENCES `ff_d_reason` (`REASON_ID`),
  CONSTRAINT `fk_fct_book_to_bill_updated_process_from` FOREIGN KEY (`UPDTAED_PROCESS_FROM`) REFERENCES `ff_d_process` (`PROCESS_ID`),
  CONSTRAINT `fk_fct_book_to_bill_vendor` FOREIGN KEY (`CUST_VENDOR`) REFERENCES `ff_f_customer_vendor` (`CUST_VENDOR_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
